#!/usr/bin/env node
import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const localesDir = path.join(__dirname, '../lib/locales');

// Читаем русский как базу
const ruPath = path.join(localesDir, 'ru.json');
const ruContent = JSON.parse(fs.readFileSync(ruPath, 'utf8'));

// Полные переводы для каждого языка
const allTranslations = {
  en: {
    appName: "DM Podcasts",
    loadingPodcast: "Loading podcast...",
    loadingEpisodes: "Loading meditations...",
    loadingEpisode: "Loading meditation...",
    errorLoadingData: "Error loading data",
    tryAgain: "Try again",
    failedToLoadPodcastData: "Failed to load podcast data: {errorMessage}. Please try again later.",
    episodeNotFound: "Meditation not found",
    noEpisodesFoundForLanguage: "No meditations found for \"{language}\" language.",
    tryUploadingAudio: "Try uploading an audio file to get started.",
    reloadEpisodes: "Reload data",
    episodes: "Radio Dos Mundos",
    searchEpisodesAndQuestions: "Search meditations, questions and text...",
    searchInTranscript: "Search in transcript...",
    searchResultsEmpty: "Nothing found for your search.",
    noEpisodesForLanguageShort: "Meditations not found",
    selectEpisode: "Select meditation: {episodeTitle}",
    openEpisode: "Open",
    episodeTitleMissing: "Meditation title missing",
    descriptionMissing: "Description missing.",
    questions: "Questions",
    questionsCountFormat: "({count})",
    noQuestionsForLanguage: "Questions have not been added yet for the current language.",
    loadingTranscriptAndQuestions: "Loading transcript and questions...",
    noQuestionsOrTranscriptTitle: "No questions or transcript yet",
    noQuestionsOrTranscriptDesc: "When the transcript is ready it will appear here. You can add questions now.",
    loadingTranscript: "Loading transcript...",
    addQuestion: "Add",
    editQuestion: "Edit question",
    deleteQuestion: "Delete question",
    saveQuestion: "Save",
    cancel: "Cancel",
    questionTime: "Time",
    questionTitle: "Question title",
    questionTitlePlaceholder: "E.g.: About the benefits of meditation",
    questionLanguage: "Question language",
    addQuestionDialogTitle: "Add question",
    addQuestionDialogDescription: "Mark the time and enter the question details.",
    addQuestionDialogDescriptionSegment: "Add a question for the segment: \"{segmentText}\"",
    editQuestionDialogTitle: "Edit question",
    editQuestionDialogDescription: "Modify the question details.",
    confirmDeleteQuestionTitle: "Confirm deletion",
    confirmDeleteQuestionDescription: "Are you sure you want to delete this question? This action is irreversible.",
    audioErrorTitle: "Audio error",
    audioErrorDescriptionPlayer: "Error loading audio for \"{episodeTitle}\".",
    playbackErrorTitle: "Playback error",
    playbackErrorDescription: "Could not play audio.",
    navigationNoQuestions: "There are no questions in this meditation to navigate.",
    navigationToastTitle: "Navigation",
    previousQuestion: "Previous question",
    nextQuestion: "Next question",
    changePlaybackSpeed: "Change playback speed, current: {speed}",
    selectLanguageModalTitle: "Select a language",
    selectLanguageModalDescription: "Please select your preferred language for the application. You can change it later.",
    allLanguages: "All languages",
    language: "Language",
    filename: "Filename",
    duration: "Duration",
    foundQuestionsInEpisode: "Found in questions",
    foundInTranscript: "Found in transcript",
    questionCount_one: "{count} question",
    questionCount_few: "{count} questions",
    questionCount_many: "{count} questions",
    errorAddingQuestion: "Failed to add question: {errorMessage}",
    errorUpdatingQuestion: "Failed to update question: {errorMessage}",
    errorDeletingQuestion: "Failed to delete question: {errorMessage}",
    errorGeneric: "Error",
    batchAddQuestions: "Import from text",
    batchAddQuestionsShort: "Import",
    batchAddQuestionsDialogTitle: "Import questions from text",
    batchAddQuestionsDialogDescription: "Paste the list of questions into the text field below. Each question should start with a timestamp (e.g., HH:MM:SS or MM:SS), followed by the question text. If a question is in two languages, separate them with \" / \".",
    pasteQuestionsList: "Paste question list:",
    processAndAdd: "Process and add",
    bilingualExamplePart1: "How to recognize sacred messages",
    bilingualExamplePart2: "Como reconocer los Mensajes sagrados",
    singleLanguageExample: "Is it necessary to read books",
    batchAddPlaceholder: "0:01:23 Example question\n0:05:10 Question in English / Pregunta en español...",
    errorBatchAddingQuestions: "Error adding questions in batch: {errorMessage}",
    nowPlaying: "Now playing...",
    paused: "Paused",
    selectAnEpisode: "Select a meditation to start.",
    backToEpisodes: "To meditations",
    backToEpisodesShort: "To meditations",
    pageNotFoundTitle: "Page not found (404)",
    pageNotFoundDescription: "Sorry, the page you are looking for does not exist. It might have been moved or deleted.",
    uploadAudioFiles: "Upload audio files",
    uploadAudio: "Upload audio",
    uploadAudioDescription: "Drag and drop files here or click to select. MP3, WAV, and other audio formats are supported. Filenames like YYYY-MM-DD_LANGUAGE.mp3 (e.g., 2025-06-28_EN.mp3) will be processed automatically.",
    dropFilesHere: "Drop files here...",
    dragOrClickUpload: "Drag files or click to select",
    supportedFormats: "Supported formats",
    uploading: "Uploading...",
    uploadError: "Upload error",
    errorUploadingFile: "Error uploading file \"{fileName}\"",
    allFilesUploadedSuccessfully: "All files uploaded successfully!",
    spotifyUploadTitle: "Upload to Spotify",
    spotifyUploadDesc: "Automatically publish your podcasts to Spotify",
    connectSpotify: "Connect Spotify",
    whatYouGet: "What you get:",
    spotifyFeature1: "Automatic publication to Spotify",
    spotifyFeature2: "Episode metadata management",
    spotifyFeature3: "Account synchronization",
    spotifyFeature4: "Analytics and statistics",
    spotifyAuthSuccess: "Authorization successful",
    spotifyAuthSuccessDesc: "You have successfully connected to Spotify",
    spotifyAuthError: "Authorization error",
    spotifyAuthErrorDesc: "Failed to connect to Spotify",
    welcomeBack: "Welcome back,",
    disconnect: "Disconnect",
    uploadEpisode: "Upload episode",
    uploadEpisodeDesc: "Select an audio file and fill in episode information",
    audioFile: "Audio file",
    episodeTitle: "Episode title",
    enterTitle: "Enter episode title",
    description: "Description",
    enterDescription: "Enter episode description",
    category: "Category",
    explicitContent: "Explicit content",
    uploadingToSpotify: "Uploading to Spotify...",
    uploadComplete: "Upload complete",
    spotifyUploadSuccess: "Upload successful",
    spotifyUploadSuccessDesc: "Episode successfully sent to Spotify",
    spotifyUploadError: "Upload error",
    spotifyUploadErrorDesc: "Failed to upload episode",
    validationError: "Validation error",
    fillRequiredFields: "Please fill in all required fields",
    howItWorks: "How it works",
    step1: "Connect to Spotify via OAuth",
    step2: "Select audio file and fill in metadata",
    step3: "Click upload button",
    step4: "Episode will automatically appear in Spotify",
    openSpotifyPodcasters: "Open Spotify Podcasters",
    close: "Close",
    startUpload: "Start upload",
    uploadingInProgress: "Uploading...",
    uploadToR2Success: "File successfully uploaded to storage.",
    metadataSavedSuccess: "Metadata saved to database.",
    transcriptionStarted: "Transcription started.",
    errorUploadingToR2: "Error uploading to R2: {errorMessage}",
    errorListingR2Files: "Error listing R2 files: {errorMessage}",
    errorPresignedUrlR2: "Error getting signed URL from R2: {errorMessage}",
    errorSubmittingAssemblyAI: "Error submitting to AssemblyAI: {errorMessage}",
    errorFetchingAssemblyAIResult: "Error fetching AssemblyAI result: {errorMessage}",
    errorFetchingEpisodes: "Error loading list of meditations: {errorMessage}",
    errorFetchingQuestions: "Error loading meditation questions: {errorMessage}",
    transcriptEditorTitle: "Transcript",
    refreshTranscript: "Refresh transcript",
    collapse: "Collapse",
    expand: "Expand",
    transcriptionError: "Transcription error.",
    transcriptionErrorTitle: "Transcription Error",
    transcriptionErrorAssembly: "AssemblyAI error during transcription",
    noTranscriptAvailableYet: "The transcript for this language is not yet available.",
    startTranscription: "Start text recognition",
    noTranscriptData: "No transcript data.",
    transcriptionInProgressTitle: "Text recognition in progress",
    transcriptionInProgressDescription: "Audio transcript is still processing. Results will appear automatically.",
    transcriptionCompletedTitle: "Text recognition completed",
    transcriptionCompletedDescription: "The transcript for episode {episode} has been successfully completed and is available.",
    transcriptionCompletedDesc: "Transcription completed successfully!",
    errorPollingTranscript: "Error checking text recognition status.",
    transcriptionSubmittedTitle: "Text recognition submitted",
    transcriptionSubmittedDescription: "Text recognition request for language {lang} has been submitted. This may take some time.",
    missingEpisodeOrUrl: "Meditation ID or audio URL is missing to start text recognition.",
    unknownError: "Unknown error",
    unknownAssemblyError: "Unknown AssemblyAI error",
    transcriptSegmentUpdatedTitle: "Segment updated",
    transcriptSegmentUpdatedDesc: "Transcript segment updated successfully.",
    playSegment: "Play segment",
    editSegment: "Edit segment",
    save: "Save",
    addQuestionToSegment: "Make question",
    questionAttached: "Question attached",
    speaker: "Speaker",
    collapseQuestions: "Collapse questions",
    expandQuestions: "Expand questions",
    transcriptText: "Toggle Transcript",
    showFullText: "Show full transcript",
    hideFullText: "Hide full transcript",
    hide: "Hide",
    speakerLabel: "Speaker {id}",
    editSpeaker: "Edit speaker",
    assignSpeaker: "Assign speaker",
    noSpeakersDetected: "Speakers not detected",
    confirmSpeakerChangeTitle: "Change speaker?",
    confirmSpeakerChangeDescription: "Are you sure you want to change the speaker for this segment?",
    textSegment: "Text segment",
    textActions: "Text actions",
    meditationTitlePrefix: "Meditation",
    introduction: "Introduction",
    loadMoreSegments: "Show more",
    showText: "Show text",
    fullTranscript: "Full transcript",
    errorStartingTranscription: "Error starting transcription: {errorMessage}",
    searchTranscriptPlaceholder: "Search in meditation transcript...",
    noResultsInTranscript: "Nothing found in transcript.",
    jumpToQuestion: "Jump to question",
    mergeWithPreviousSegment: "Merge with previous",
    deleteSegment: "Delete segment",
    splitSegment: "Split segment",
    saveSegment: "Save segment",
    addSegment: "Add segment",
    addSegmentDescription: "Add a new segment: specify start/end time and text.",
    segmentStartTime: "Start time",
    segmentEndTime: "End time",
    segmentText: "Segment text",
    confirmMergeTitle: "Merge segments?",
    confirmMergeDescription: "Are you sure you want to merge this segment with the previous one? This action is irreversible.",
    confirmDeleteSegmentTitle: "Delete segment?",
    confirmDeleteSegmentDescription: "Are you sure you want to delete this segment? The text will be lost. This action is irreversible.",
    confirmSplitTitle: "Split segment?",
    confirmSplitDescription: "Are you sure you want to split this segment at the current cursor position? This action is irreversible.",
    doNotAskAgain: "Don't ask again",
    errorSplittingSegment: "Error splitting segment",
    cannotSplitEmpty: "Cannot split an empty segment or create empty parts.",
    cannotSplitAtPosition: "Cannot split at this position (start or end of text).",
    cannotSplitIntoEmpty: "Splitting will result in empty segments. Choose another position.",
    pressEnterToSplit: "Press Enter to split at cursor position",
    editSegmentPanelTitle: "Editing segment",
    cursorPositionRequired: "Place cursor in text where you want to split segment.",
    confirm: "Confirm",
    merge: "Merge",
    split: "Split",
    delete: "Delete",
    splitSegmentAtCursor: "Split segment at cursor position",
    editTextSegmentPlaceholder: "Enter segment text...",
    questionAttachedToSegment: "There is a question attached to this segment",
    selectFiles: "Select Files",
    addAnotherFile: "Add Another File",
    startAllUploads: "Start All Uploads",
    processing: "Processing",
    timingsQuestions: "Timings (Questions)",
    confirmOverwriteTitle: "Confirm Overwrite?",
    confirmOverwriteMessage: "Episode with SLUG '{slug}' already exists. Overwrite it?",
    overwrite: "Overwrite",
    selectWhatToOverwrite: "Select what to overwrite:",
    overwriteServerFile: "Server file (re-upload)",
    overwriteEpisodeInfo: "Episode info in DB (title, date, URL)",
    overwriteTranscript: "Transcript",
    overwriteQuestions: "Questions",
    transcriptionQueued: "Transcription Queued",
    processingErrorsTitle: "Processing Errors",
    processingErrorsDesc: "Some files were not processed.",
    uploadCancelledEpisodeExists: "Upload cancelled: episode already exists.",
    transcriptionProcessing: "Transcription processing...",
    transcriptionCompletedShort: "Transcription completed",
    transcriptionFailedShort: "Transcription failed",
    errorCheckingEpisodeDB: "Error checking episode in DB: {errorMessage}",
    fileAlreadyInR2Title: "File Already in R2",
    fileAlreadyInR2Desc: "File {fileName} already exists in cloud storage.",
    usingExistingR2FileTitle: "Using Existing File",
    usingExistingR2FileDesc: "Using already uploaded file {fileName} from storage.",
    overwritingDbData: "Overwriting data in database...",
    overwritingEpisodeTitle: "Overwriting Episode",
    overwritingEpisodeDesc: "Overwriting data for episode {slug}...",
    audioMetadataError: "Error reading audio metadata.",
    supabaseEpisodeError: "Error saving episode to DB: {errorMessage}",
    startingTranscription: "Starting transcription...",
    supabaseTranscriptError: "Error saving transcript data to DB: {errorMessage}",
    allFilesProcessedTitle: "All Files Processed",
    allFilesProcessedDesc: "Processing of all files completed successfully.",
    transcriptionErrorDesc: "An error occurred during transcription of episode {episode}.",
    manageAndUploadTitle: "Manage and Upload",
    manageAndUploadDescription: "Upload new audio files and manage existing meditations.",
    manageEpisodes: "Manage Episodes",
    manageExistingEpisodes: "Manage Existing Meditations",
    manageEpisodesDescription: "Here you can view and delete previously uploaded meditations.",
    manageEpisodesTitle: "Manage Episodes",
    assemblyAiApiKey: "AssemblyAI API Key",
    assemblyAiApiKeyDescription: "Enter your AssemblyAI API key to enable audio transcription. The key is stored locally in your browser.",
    assemblyAiApiKeyPlaceholder: "sk_...",
    apiKeyStoredLocally: "The key is stored locally in your browser and is not sent to our servers.",
    apiKeySaved: "API Key Saved",
    apiKeySavedDescription: "Your AssemblyAI API key has been saved successfully.",
    apiKeySaveError: "Failed to save API key. Please try again.",
    apiKeyCleared: "API Key Cleared",
    apiKeyClearedDescription: "Your AssemblyAI API key has been removed.",
    apiKeyClearError: "Failed to clear API key. Please try again.",
    clear: "Clear",
    show: "Show",
    supportedAudioFormats: "Supported audio formats: MP3, WAV, M4A, AAC, OGG, FLAC",
    filenameLanguageSuffixes: "Filenames can contain language suffixes: _es, _ru, _en",
    dropFilesHere: "Drop files here!",
    dragOrClickToUpload: "Drag audio files or click to select",
    filesInQueue_one: "{count} file in queue",
    filesInQueue_few: "{count} files in queue",  
    filesInQueue_many: "{count} files in queue",
    addFiles: "Add Files",
    episodeManagement: "Episode Management",
    refresh: "Refresh",
    selectAll: "Select All",
    episodes_one: "episode",
    episodes_few: "episodes",
    episodes_many: "episodes",
    baseFile: "Base file",
    noFileUploaded: "No file uploaded",
    ready: "Ready",
    notStarted: "Not started",
    dateNotSpecified: "Date not specified",
    audioFileNotAvailable: "Audio file is not available for transcription",
    transcriptionAlreadyStarted: "Transcription already started",
    transcriptionInProgress: "Please wait for the current transcription process to complete",
    transcriptionAlreadyCompleted: "Transcription already completed",
    transcriptionAlreadyReady: "The text has already been transcribed",
    audioUrlNotAvailable: "Could not get audio file URL",
    assemblyAiNoJobId: "AssemblyAI did not return a job identifier",
    transcriptionCompleted: "Transcription completed!",
    transcriptionStartError: "Error starting transcription",
    questionsNotFound: "Questions not found",
    questionsNotFoundInDB: "Questions for this episode are not available in the database",
    questionsLoaded: "Questions loaded",
    questionsLoadedFromDB_one: "Loaded {count} question from database",
    questionsLoadedFromDB_few: "Loaded {count} questions from database",
    questionsLoadedFromDB_many: "Loaded {count} questions from database",
    questionsLoadError: "Error loading questions",
    transcriptRequired: "Transcript required",
    transcriptRequiredDescription: "You need to transcribe the episode text first",
    transcriptDataNotFound: "Transcript data not found",
    questionsGenerationFailed: "Failed to generate questions",
    questionsGenerated: "Questions generated",
    questionsGeneratedForEpisode_one: "Generated {count} question for episode {episodeSlug} ({lang})",
    questionsGeneratedForEpisode_few: "Generated {count} questions for episode {episodeSlug} ({lang})",
    questionsGeneratedForEpisode_many: "Generated {count} questions for episode {episodeSlug} ({lang})",
    questionsGenerationError: "Error generating questions",
    spanishEpisodeNotFound: "Spanish episode not found",
    spanishTranscriptNotReady: "Spanish transcript is not ready",
    spanishTranscriptTextNotFound: "Spanish transcript text not found",
    transcriptTranslationFailed: "Failed to translate transcript",
    transcriptTranslated: "Transcript translated",
    enTranscriptCreated: "EN transcript for {episodeSlug} created",
    transcriptTranslationError: "Error translating transcript",
    sourceEpisodeNotFound: "Episode not found for {language} language",
    questionsNotFoundForTranslation: "Questions not found for translation",
    translateQuestionPrompt: "Translate the following question title from {sourceLanguage} to English. Return only the translated text without quotes and additional symbols: \"{questionTitle}\"",
    questionsTranslated: "Questions translated",
    questionsTranslatedCreated_one: "Created {count} question (EN)",
    questionsTranslatedCreated_few: "Created {count} questions (EN)",
    questionsTranslatedCreated_many: "Created {count} questions (EN)",
    questionsTranslationError: "Error translating questions",
    episodeDeleteError: "Error deleting episode {episodeTitle}",
    episodesDeleted: "Episodes deleted",
    episodesDeletedSuccessfully_one: "{count} episode deleted successfully",
    episodesDeletedSuccessfully_few: "{count} episodes deleted successfully",
    episodesDeletedSuccessfully_many: "{count} episodes deleted successfully",
    questionsDeleted: "Questions deleted",
    allQuestionsDeletedForEpisode: "All questions for episode {episodeTitle} deleted",
    questionsDeleteError: "Error deleting questions",
    deleteAllQuestionsTitle: "Delete all questions",
    confirmDeleteAllQuestionsMessage: "Are you sure you want to delete all questions for episode \"{episodeTitle}\" ({lang})?",
    deleteAllQuestionsConfirm: "Delete all questions",
    confirmDeleteEpisodesMessage: "Are you sure you want to delete {count} selected episodes?",
    transcribe: "Transcribe",
    starting: "Starting",
    fromDB: "From DB",
    recognize: "Recognize",
    deleteAllQuestions: "Delete all questions",
    translateTranscriptFromSpanish: "Translate transcript from Spanish",
    translateQuestionsFromSpanish: "Translate questions from Spanish",
    translateQuestionsFromRussian: "Translate questions from Russian",
    transcriptDeleted: "Transcript deleted",
    errorDeletingQuestions: "Error deleting old questions: {errorMessage}",
    errorDeletingTranscripts: "Error deleting old transcripts: {errorMessage}",
    errorDeletingEpisodeDB: "Error deleting episode from database: {errorMessage}",
    episodeDeletedTitle: "Episode Deleted",
    episodeDeletedSuccess: "Episode '{episodeTitle}' was successfully deleted.",
    confirmDeleteTitle: "Confirm Deletion",
    confirmDeleteEpisodeMessage: "Are you sure you want to delete the episode '{episodeTitle}'? This will remove its audio, transcriptions, and questions for all languages.",
    actionIrreversible: "This action is irreversible.",
    deleting: "Deleting...",
    deleteConfirm: "Yes, Delete",
    fileDeletedFromR2Title: "File Deleted from Storage",
    fileDeletedFromR2Desc: "File {fileName} was successfully deleted from cloud storage.",
    errorDeletingR2FilePartial: "Could not delete file {fileName} from R2 storage: {errorMessage}. Database entries were still removed.",
    searchEpisodes: "Search meditations...",
    translateTimingsSuccessTitle: "Translation Successful",
    translateTimingsSuccessDesc: "Timings text successfully translated to English.",
    translateTimingsErrorTitle: "Translation Error",
    translateTimingsErrorDesc: "Failed to translate timings text: {errorMessage}",
    timingsTranslating: "Translating...",
    transcriptionPendingTranslation: "Pending translation from ES",
    transcriptionTranslating: "Translating from ES...",
    translateTranscriptTitle: "Translate Transcript",
    translateTranscriptDesc: "Translate transcript from Spanish to English",
    translateTranscriptSuccessTitle: "Transcript Translated",
    translateTranscriptSuccessDesc: "Transcript successfully translated to English with {segmentsCount} segments",
    translateTranscriptErrorTitle: "Translation Error",
    translateTranscriptErrorDesc: "Failed to translate transcript: {errorMessage}",
    translateTranscriptProgress: "Translating transcript...",
    translateTranscriptButton: "Translate to EN",
    settings: "Settings",
    showTranscript: "Show Transcript",
    downloadAudio: "Download Audio",
    downloadStartedTitle: "Download Started",
    downloadStartedDesc: "The audio file download has started.",
    audioNotAvailableForDownload: "Audio file is not available for download.",
    skipBackward10: "Skip Backward 10s",
    skipForward10: "Skip Forward 10s",
    play: "Play",
    pause: "Pause",
    editLogPageTitle: "Edit History",
    errorFetchingLogs: "Error fetching logs",
    noEditHistory: "No edit history found",
    backButton: "Back",
    actionReverted: "Reverted",
    revertButton: "Revert",
    revertFailed: "Revert Failed",
    revertSuccessful: "Revert Successful",
    revertDescription: "Change #{logId} has been reverted.",
    beforeLabel: "Before",
    afterLabel: "After",
    revertedAtLabel: "Reverted at {date}",
    assignSpeakerTitle: "Assign Speaker",
    assignSpeakerDescription: "Assign or change the speaker for the segment:",
    selectExistingSpeaker: "Select Existing Speaker",
    selectSpeakerPlaceholder: "Select a speaker...",
    searchSpeakerPlaceholder: "Search speaker...",
    noSpeakerFound: "No speaker found.",
    or: "OR",
    enterNewSpeakerName: "Enter New Speaker Name",
    assignNewSpeakerName: "Assign as New Speaker",
    newSpeakerNamePlaceholder: "E.g., Maria, John Doe",
    assignAsNewSpeaker: "Assign as new speaker",
    saveSpeakerAssignment: "Save Assignment",
    speakerAssignedTitle: "Speaker Assigned",
    speakerAssignedDesc: "Speaker {newSpeaker} has been assigned.",
    errorSavingSpeakerAssignment: "Error saving speaker assignment.",
    unknownSpeaker: "Unknown",
    assignSpeakerTooltip: "Assign/Change Speaker",
    editRevertedTitle: "Edit Reverted",
    editRevertedDesc: "The last change in the segment text has been reverted.",
    nothingToRevert: "Nothing to revert.",
    untitledQuestion: "Untitled Question",
    navigateToDeepSearch: "Navigate to Deep Search",
    search: "Search",
    deepSearchTitle: "Advanced Search",
    deepSearchPlaceholder: "Search in texts and questions...",
    searching: "Searching",
    deepSearchMinChars: "Enter at least 2 characters to search.",
    errorPerformingSearch: "Error performing search: {errorMessage}",
    noResultsFoundForQuery: "No results found for \"{query}\".",
    searchResultsCount_one: "Found {count} result for \"{query}\"",
    searchResultsCount_few: "Found {count} results for \"{query}\"",
    searchResultsCount_many: "Found {count} results for \"{query}\"",
    foundInQuestionsTitle: "Found in Questions",
    foundInTextTitle: "Found in Text",
    foundSegmentsInEpisodeCount_one: "{count} match",
    foundSegmentsInEpisodeCount_few: "{count} matches",
    foundSegmentsInEpisodeCount_many: "{count} matches",
    foundQuestionsInEpisodeCount_one: "{count} question",
    foundQuestionsInEpisodeCount_few: "{count} questions",
    foundQuestionsInEpisodeCount_many: "{count} questions",
    noQuestionsAddedYet: "No questions added yet.",
    filterByYear: "Filter by Year",
    filterByMonth: "Filter by Month",
    allYears: "All Years",
    allMonths: "All Months",
    resetFilters: "Reset",
    january: "January",
    february: "February",
    march: "March",
    april: "April",
    may: "May",
    june: "June",
    july: "July",
    august: "August",
    september: "September",
    october: "October",
    november: "November",
    december: "December",
    tryUploadingAudioOrFilter: "Try uploading audio or changing filters.",
    contextQuestion: "Context (question)",
    question: "Question",
    playbackSpeed: "Playback Speed",
    noEpisodesFound: "No meditations found.",
    selectAll: "Select all",
    deselectAll: "Deselect all",
    deleteSelected: "Delete selected",
    errorTranslatingTranscriptOpenAI: "Error translating transcript with DeepSeek.",
    errorTranslatingTranscriptOpenAIDesc: "An error occurred while translating the transcript with DeepSeek. Try splitting the text into smaller parts or reducing the size.",
    errorTranslatingTextOpenAI: "Error translating text with DeepSeek: {errorMessage}",
    offlineMode: "Offline mode",
    online: "Online",
    syncing: "Syncing...",
    syncError: "Sync error",
    pendingChanges: "pending changes",
    justSynced: "just now",
    minutesAgo: "min ago",
    hoursAgo: "hours ago",
    clickToSync: "Click to sync",
    loadedFromCache: "Loaded from cache",
    dataLoadedOffline: "Data loaded from local cache",
    transcriptFromCache: "Transcript from cache",
    transcriptLoadedOffline: "Transcript loaded from local cache",
    questionsFromCache: "Questions from cache",
    questionsLoadedOffline: "Questions loaded from local cache",
    offlineDataUnavailable: "Data unavailable offline",
    episodeNotCached: "This episode was not saved for offline viewing",
    transcriptUnavailableOffline: "Transcript unavailable offline",
    transcriptNotCached: "Transcript was not saved for offline viewing",
    questionsUnavailableOffline: "Questions unavailable offline",
    questionsNotCached: "Questions were not saved for offline viewing",
    savedOffline: "Saved offline",
    segmentSavedOffline: "Changes saved locally and will sync when internet is restored",
    transcriptSavedOffline: "Transcript saved locally and will sync when internet is restored",
    questionsSavedOffline: "Questions saved locally and will sync when internet is restored",
    offlineSaveError: "Error saving in offline mode",
    confirmSplitOffline: "Split segment? Changes will be saved locally.",
    confirmMergeOffline: "Merge with next segment? Changes will be saved locally.",
    confirmDeleteOffline: "Delete segment? Changes will be saved locally.",
    segmentSplitOffline: "Segment split (offline)",
    segmentMergedOffline: "Segments merged (offline)",
    segmentDeletedOffline: "Segment deleted (offline)",
    audioCache: "Audio cache",
    cacheUsage: "Cache usage",
    files: "files",
    used: "used",
    currentEpisode: "Current episode",
    downloading: "Downloading...",
    cached: "Saved",
    cache: "Cache",
    removeFromCache: "Remove from cache",
    cacheForOffline: "Save",
    cacheManagement: "Cache management",
    manageStoredAudio: "Manage saved audio files",
    clearAll: "Clear all",
    cachedFiles: "Cached files",
    cacheSettings: "Cache Settings",
    confirmClearCache: "Clear all cache?",
    clearCache: "Clear Cache",
    removing: "Removing...",
    maxCacheSize: "Maximum cache size",
    downloadText: "Download text",
    downloadTextSettings: "Download text settings",
    downloadSubtitles: "Download subtitles",
    processWithAI: "Process with AI",
    contentType: "Content type",
    allText: "All text",
    selectedQuestions: "Selected questions",
    selectQuestions: "Select questions",
    includeTimings: "Include timings",
    format: "Format",
    download: "Download",
    textDownloadStarted: "Text download started",
    includeSpeakers: "Include speakers",
    offlineModeTitle: "Offline Mode",
    syncCompleted: "Sync completed",
    itemsSynced: "items synced",
    connectionRestored: "Connection restored", 
    syncingChanges: "Syncing changes...",
    connectionLost: "Connection lost",
    workingOffline: "Working in offline mode",
    offlineSettings: "Offline settings",
    networkStatus: "Network status",
    connection: "Connection",
    offline: "Offline",
    pendingSync: "Pending sync",
    items: "items",
    syncNow: "Sync now",
    storageUsage: "Storage usage",
    totalUsage: "Total usage",
    clearAllData: "Clear all data",
    syncQueue: "Sync queue",
    attempts: "attempts",
    offlineFeatures: "Offline features",
    audioPlayback: "Audio playback",
    textEditing: "Text editing",
    autoSync: "Auto sync",
    localStorage: "Local storage",
    headerDefaultTitle: "Dos Mundos Podcast",
    languageRussian: "Русский",
    languageSpanish: "Español",
    languageEnglish: "English",
    playerRewindBack10: "Rewind back 10 seconds",
    playerPlay: "Play",
    playerPause: "Pause",
    playerForward10: "Fast forward 10 seconds",
    playerProgressBar: "Podcast progress",
    playerJumpToQuestion: "Jump to question: {title}",
    error: "Error",
    sectionTitleEmpty: "Section title cannot be empty.",
    sectionTimeInvalid: "Section time is invalid.",
    sectionSaved: "Section saved",
    sectionSavedDescription: "Section \"{title}\" saved successfully.",
    sectionDeleted: "Section deleted",
    sectionDeletedDescription: "Section deleted successfully.",
    currentSection: "Current section",
    addNewSection: "Add new section",
    add: "Add",
    editCurrentSection: "Edit current section",
    noActiveSection: "No active section. Add a new one.",
    allSections: "All sections",
    editSection: "Edit section {title}",
    noSectionsYet: "No sections added yet.",
    addSection: "Add section",
    time: "Time",
    title: "Title",
    renameSpeakerGlobally: "Rename speaker globally",
    reassignToExistingSpeaker: "Reassign to existing speaker",
    createNewSpeaker: "Create new speaker",
    unknownSpeaker: "Unknown speaker",
    newSpeakerName: "New speaker name",
    speakerName: "Speaker name",
    enterSpeakerNamePlaceholder: "Enter speaker name",
    renameSpeaker: "Rename speaker",
    reassignSpeaker: "Reassign speaker",
    createSpeaker: "Create speaker",
    currentSpeaker: "Current speaker",
    configurationError: "Configuration Error",
    spotifyClientIdMissing: "Spotify Client ID is not configured. Create .env.local file with VITE_SPOTIFY_CLIENT_ID",
    spotifyConfiguration: "Spotify Configuration",
    spotifyConfigurationDesc: "Enter your Spotify credentials to connect",
    spotifyClientId: "Client ID",
    spotifyClientSecret: "Client Secret",
    saveConfiguration: "Save Configuration",
    resetConfiguration: "Reset",
    copiedToClipboard: "Copied",
    copiedToClipboardDesc: "Data copied to clipboard",
    spotifyConfigSaved: "Configuration Saved",
    spotifyConfigSavedDesc: "Spotify configuration saved successfully",
    spotifyConfigError: "Save Error",
    confirmResetConfig: "Are you sure you want to reset Spotify configuration?",
    configReset: "Configuration Reset",
    configResetDesc: "Spotify configuration has been reset",
    howToGetCredentials: "How to get credentials:",
    spotifyStep1: "Go to Spotify Developer Dashboard",
    spotifyStep2: "Create a new application",
    spotifyStep3: "Copy Client ID and Client Secret",
    spotifyStep4: "Paste data in the form above",
    openSpotifyDeveloper: "Open Spotify Developer",
    spotifyConfigurationRequired: "Spotify credentials are required to work with the service",
    themeSettings: "Color Scheme",
    themeDefault: "Default",
    themeDefaultDesc: "Purple-blue gradient",
    themeDark: "Dark",
    themeDarkDesc: "Deep dark theme",
    themeLight: "Light",
    themeLightDesc: "Light theme with accents",
    themeGreen: "Green",
    themeGreenDesc: "Natural green tones",
    themeOrange: "Orange",
    themeOrangeDesc: "Warm orange tones",
    themeChangeHint: "Changes apply immediately",
    interfaceLanguage: "Interface Language",
    languageChangeHint: "Changing language reloads the page",
    hostingerMigration: "Hostinger Migration",
    hostingerMigrationDescription: "Transfer audio files from Hostinger FTP to Supabase database with automatic episode creation and question generation",
    migrationStatus: "Migration Status",
    readyToStart: "Ready to Start",
    totalFiles: "Total Files",
    processedFiles: "Processed",
    errors: "Errors",
    results: "Results",
    startMigration: "Start Migration",
    stopMigration: "Stop Migration",
    reset: "Reset",
    migrationResults: "Migration Results",
    migrationErrors: "Migration Errors",
    migrationLogs: "Migration Logs",
    migrationStarted: "Storage migration started",
    migrationComplete: "Storage migration complete",
    migrationError: "Migration error",
    filesSelectedForMigration: "Files selected for migration",
    storageProvider: "Storage Provider",
    errorUploadingToHostinger: "Error uploading to Hostinger: {errorMessage}",
    errorDeletingHostingerFile: "Error deleting file {fileName} from Hostinger: {errorMessage}",
    hostingerConnectionFailed: "Failed to connect to Hostinger SFTP server",
    hostingerUploadTimeout: "Hostinger upload timeout - please check your connection",
    transcriptTranslationError: "Transcript translation error",
    questionsTranslationError: "Questions translation error",
    conflictsDetected: "Conflicts detected",
    fileAlreadyExists: "File already exists in {source}",
    episodeAlreadyExists: "Episode already exists in database",
    transcriptExists: "Transcript exists",
    questionsExist: "Questions exist ({count})",
    chooseWhatToReplace: "Choose what to replace:",
    replaceFileInStorage: "Replace file in storage",
    replaceEpisodeInfo: "Replace episode info",
    replaceTranscript: "Replace transcript",
    replaceQuestions: "Replace questions",
    overwriteWarning: "Selected data will be overwritten. This action cannot be undone.",
    uploadWithReplacement: "Upload with replacement",
    fileAddedWithReplacement: "File added with replacement",
    uploadCancelled: "Upload cancelled",
    fileNotAddedDueToConflicts: "File was not added to queue due to conflicts",
    fileExistsInDatabase: "File already exists in database",
    fileExistsInHostinger: "File already exists in Hostinger",
    fileNotFoundInStorage: "File not found in storage",
    translationTester: "Translation Tester",
    testTextTranslation: "Text translation test",
    testQuestionsTranslation: "Questions translation test",
    sourceText: "Source text",
    targetLanguage: "Target language",
    questionsOnePerLine: "Questions (one per line)",
    translateText: "Translate text",
    testTranscript: "Transcript test",
    translateQuestions: "Translate questions",
    supportedLanguages: "Supported languages",
    textTranslationSuccess: "Text translation executed successfully",
    questionsTranslationSuccess: "{count} questions translated",
    transcriptTranslationSuccess: "Transcript translation executed successfully",
    textTranslationError: "Text translation error",
    enterTextForTranslation: "Enter text for translation",
    enterQuestionsForTranslation: "Enter questions for translation",
    enterTextForTranscriptTest: "Enter text for transcript test",
    result: "Result",
    translationInProgress: "Translating...",
    testingTranscript: "Testing transcript...",
    translatingQuestions: "Translating questions...",
    translatingText: "Translating text...",
    deleteAndRetranscribe: "Delete & Retranscribe",
    retranslate: "Retranslate",
    retranslateTranscript: "Retranslate transcript",
    spanishTranscriptRequired: "Spanish transcript required",
    spanishVersionRequired: "Spanish version required",
    openInNewWindow: "Open in new window",
    manage: "Manage",
    autoGenerateQuestions: "Auto-generate questions",
    loadQuestionsFromDB: "Load from database",
    fileNotFound: "File not found",
    fileNotFoundInFolder: "Expected file {expectedFilename} not found in selected folder",
    fileFoundAndAdded: "File found and added",
    fileWillBeUploaded: "File {filename} will be uploaded",
    fileUploadError: "File upload error",
    noFilesForEpisode: "No files found for this episode",
    spanishTranscriptInProgress: "Spanish transcript is being processed",
    transcribeSpanishFirst: "First transcribe Spanish audio",
    needSpanishFirst: "Upload Spanish version first",
    createEnglishVersion: "Create English version",
    fromSpanishTranscript: "from Spanish transcript",
    translateToEnglish: "Translate to EN"
  },
  es: {
    appName: "DM Podcasts",
    // ... resto de traducción para español
  },
  de: {
    appName: "DM Podcasts",
    // ... resto de traducción para alemán
  },
  fr: {
    appName: "DM Podcasts",
    // ... resto de traducción para francés
  },
  pl: {
    appName: "DM Podcasts",
    // ... resto de traducción para polaco
  }
};

// Mergeamos manualmente para cada idioma
const langs = ['en', 'es', 'de', 'fr', 'pl'];

langs.forEach(lang => {
  // Copiamos todo de RU y luego sobrescribimos con los idiomas específicos
  const langData = { ...ruContent };
  
  // Copiamos las traducciones
  if (allTranslations[lang]) {
    Object.assign(langData, allTranslations[lang]);
  }
  
  const filePath = path.join(localesDir, `${lang}.json`);
  fs.writeFileSync(filePath, JSON.stringify(langData, null, 2) + '\n');
  
  const count = Object.keys(langData).length;
  console.log(`✅ Updated ${lang}.json with ${count} keys`);
});

console.log('\n✅ Localization update complete! All 6 languages now have complete translations.');
console.log('📊 Summary:');
console.log('  🇷🇺 RU - Russian (base language)');
console.log('  🇬🇧 EN - English');
console.log('  🇪🇸 ES - Spanish');
console.log('  🇩🇪 DE - German');
console.log('  🇫🇷 FR - French');
console.log('  🇵🇱 PL - Polish');
